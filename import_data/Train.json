{
  "source": {
    "file": {
      "path": "/orientdb/import/Test.csv"
    }
  },
  "extractor": {
    "csv": {}
  },
  "transformers": [
    {
      "vertex": {
        "class": "Test"
      }
    },
    {
      "edge": {
        "class": "HAS_COLOR",
        "joinFieldName": "Color1",
        "lookup": "Color.ID",
        "direction": "out"
      }
    },
    {
      "edge": {
        "class": "HAS_COLOR",
        "joinFieldName": "Color2",
        "lookup": "Color.ID",
        "direction": "out"
      }
    },
    {
      "edge": {
        "class": "HAS_COLOR",
        "joinFieldName": "Color3",
        "lookup": "Color.ID",
        "direction": "out"
      }
    },
    {
      "edge": {
        "class": "HAS_BREED",
        "joinFieldName": "Breed1",
        "lookup": "Breed.ID",
        "direction": "out"
      }
    },
    {
      "edge": {
        "class": "HAS_BREED",
        "joinFieldName": "Breed2",
        "lookup": "Breed.ID",
        "direction": "out"
      }
    },
    {
      "edge": {
        "class": "HAS_STATE",
        "joinFieldName": "State",
        "lookup": "State.ID",
        "direction": "out"
      }
    },
    {
      "field": {
        "fieldName": "Type",
        "operation": "remove"
      }
    },
    {
      "field": {
        "fieldName": "Gender",
        "expression": "if((Gender = 1), 'MALE', if((Gender = 2), 'FEMALE', if((Gender = 3), 'MIXED', 'NOT_SPECIFIED')))"
      }
    },
    {
      "field": {
        "fieldName": "MaturitySize",
        "expression": "if((MaturitySize = 1), 'SMALL', if((MaturitySize = 2), 'MEDIUM', if((MaturitySize = 3), 'LARGE', if((MaturitySize = 3), 'EXTRA_LARGE', 'NOT_SPECIFIED'))))"
      }
    },
    {
      "field": {
        "fieldName": "FurLength",
        "expression": "if((FurLength = 1), 'SHORT', if((FurLength = 2), 'MEDIUM', if((FurLength = 3), 'LONG', 'NOT_SPECIFIED')))"
      }
    },
    {
      "field": {
        "fieldName": "Vaccinated",
        "expression": "if((Vaccinated = 1), 'YES', if((Vaccinated = 2), 'NO', 'NOT_SURE'))"
      }
    },
    {
      "field": {
        "fieldName": "Dewormed",
        "expression": "if((Dewormed = 1), 'YES', if((Dewormed = 2), 'NO', 'NOT_SURE'))"
      }
    },
    {
      "field": {
        "fieldName": "Sterilized",
        "expression": "if((Sterilized = 1), 'YES', if((Sterilized = 2), 'NO', 'NOT_SURE'))"
      }
    },
    {
      "field": {
        "fieldName": "Health",
        "expression": "if((Health = 1), 'HEALTHY', if((Health = 2), 'MINOR_INJURY', if((Health = 3), 'SERIOUS_INJURY', 'NOT_SPECIFIED')))"
      }
    }
  ],
  "loader": {
    "orientdb": {
      "dbURL": "remote:orientdb:2424/nbnp",
      "serverUser": "root",
      "serverPassword": "password",
      "dbType": "graph",
      "classes": [
        {
          "name": "Test",
          "extends": "V"
        },
        {
          "name": "Color",
          "extends": "V"
        },
        {
          "name": "Breed",
          "extends": "V"
        },
        {
          "name": "State",
          "extends": "V"
        },
        {
          "name": "HAS_COLOR",
          "extends": "E"
        },
        {
          "name": "HAS_BREED",
          "extends": "E"
        },
        {
          "name": "HAS_STATE",
          "extends": "E"
        }
      ],
      "indexes": [
        {
          "class": "Color",
          "fields": ["ID:integer"],
          "type": "UNIQUE"
        },
        {
          "class": "Breed",
          "fields": ["ID:integer"],
          "type": "UNIQUE"
        },
        {
          "class": "State",
          "fields": ["ID:integer"],
          "type": "UNIQUE"
        }
      ]
    }
  }
}
